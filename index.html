<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Flurimo ‚Äî –ú–∞–≥–∞–∑–∏–Ω</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #faf9f7;
}
header {
  padding: 16px;
  text-align: center;
  font-size: 22px;
  font-weight: 600;
}
.card {
  background: #fff;
  margin: 12px;
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 2px 6px rgba(0,0,0,.05);
}
.card img {
  width: 100%;
  height: 240px;
  object-fit: cover;
}
.card-content {
  padding: 14px;
}
.price {
  font-weight: bold;
  margin: 8px 0;
}
.status {
  font-size: 13px;
  opacity: .6;
  margin-bottom: 10px;
}
button {
  width: 100%;
  padding: 12px;
  background: #000;
  color: #fff;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  cursor: pointer;
}
button:disabled {
  background: #ccc;
  cursor: not-allowed;
}
#orderBox {
  background: #fff;
  margin: 12px;
  padding: 14px;
  border-radius: 14px;
  box-shadow: 0 2px 6px rgba(0,0,0,.05);
  display: none;
}
input {
  width: 100%;
  padding: 10px;
  margin-bottom: 10px;
  font-size: 14px;
  border-radius: 6px;
  border: 1px solid #ccc;
}
</style>
</head>

<body>

<header>üå∏ Flurimo</header>
<div id="catalog"></div>

<div id="orderBox">
  <h3 id="orderTitle"></h3>
  <input id="customerName" placeholder="–í–∞—à–µ –∏–º—è">
  <input id="customerPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω">
  <button onclick="sendOrder()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑</button>
</div>

<script>
/* üîó –¢–í–û–Ø –°–°–´–õ–ö–ê */
const GOOGLE_SHEET_URL =
"https://script.google.com/macros/s/AKfycbwvGHiCa2eCV91H8eL-hFyKfffv2z-mv5HEnoPtDr7B3FuX23kj_hJMwUSQMydZZZUc5Q/exec";

/* üõç –¢–û–í–ê–†–´ */
const products = [
  {
    name: "–¢—é–ª—å–ø–∞–Ω—ã",
    description: "–û—Ö–∞–ø–∫–∞ —Ç—é–ª—å–ø–∞–Ω–æ–≤ 50 —à—Ç—É–∫",
    price: 7000,
    quantity: 50,
    image: "images/tulip.jpg"
  },
  {
    name: "–ì–≤–æ–∑–¥–∏–∫–∞ –∫—É—Å—Ç–æ–≤–∞—è —Ä–æ–∑–æ–≤–∞—è",
    description: "–û—Ö–∞–ø–∫–∞ —Ä–æ–∑–æ–≤–æ–π –∫—É—Å—Ç–æ–≤–æ–π –≥–≤–æ–∑–¥–∏–∫–∏ 20 —à—Ç—É–∫",
    price: 2000,
    quantity: 20,
    image: "images/carnation.jpg"
  },
  {
    name: "–ì–≤–æ–∑–¥–∏–∫–∞ –ì—Ä–∏–Ω –¢—Ä–∏–∫",
    description: "–û—Ö–∞–ø–∫–∞ –≥–≤–æ–∑–¥–∏–∫–∏ –ì—Ä–∏–Ω –¢—Ä–∏–∫",
    price: 2200,
    quantity: 10,
    image: "images/greentrick.jpg"
  }
];

let currentProduct = null;
const catalog = document.getElementById("catalog");

/* üß± –ö–ê–†–¢–û–ß–ö–ò */
products.forEach(p => {
  const disabled = p.quantity <= 0;
  const card = document.createElement("div");
  card.className = "card";
  card.innerHTML = `
    <img src="${p.image}">
    <div class="card-content">
      <h3>${p.name}</h3>
      <p>${p.description}</p>
      <div class="status">${disabled ? "–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏" : "–í –Ω–∞–ª–∏—á–∏–∏: " + p.quantity}</div>
      <div class="price">${p.price} ‚ÇΩ</div>
      <button ${disabled ? "disabled" : ""} onclick="openOrder('${p.name}', ${p.price})">
        –û—Ñ–æ—Ä–º–∏—Ç—å
      </button>
    </div>
  `;
  catalog.appendChild(card);
});

/* üìù –§–û–†–ú–ê */
function openOrder(name, price) {
  currentProduct = { name, price };
  document.getElementById("orderTitle").innerText =
    `–ó–∞–∫–∞–∑: ${name} ‚Äî ${price} ‚ÇΩ`;
  document.getElementById("orderBox").style.display = "block";
  window.scrollTo(0, document.body.scrollHeight);
}

/* üì§ –û–¢–ü–†–ê–í–ö–ê */
function sendOrder() {
  const name = document.getElementById("customerName").value;
  const phone = document.getElementById("customerPhone").value;

  if (!name || !phone) {
    alert("–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω");
    return;
  }

  fetch(GOOGLE_SHEET_URL, {
    method: "POST",
    body: JSON.stringify({
      name: currentProduct.name,
      price: currentProduct.price,
      customer_name: name,
      customer_phone: phone
    })
  })
  .then(() => {
    alert("‚úÖ –ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!");
    document.getElementById("orderBox").style.display = "none";
    document.getElementById("customerName").value = "";
    document.getElementById("customerPhone").value = "";
  })
  .catch(() => {
    alert("‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏");
  });
}
</script>

</body>
</html>









