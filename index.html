<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Flurimo ‚Äî –ú–∞–≥–∞–∑–∏–Ω</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body { font-family: Arial, sans-serif; margin: 0; background: #faf9f7; }
header { padding: 16px; text-align: center; font-size: 22px; font-weight: 600; }
.card { background: #fff; margin: 12px; border-radius: 14px; overflow: hidden; box-shadow: 0 2px 6px rgba(0,0,0,.05); }
.card img { width: 100%; height: 240px; object-fit: cover; }
.card-content { padding: 14px; }
.price { font-weight: bold; margin: 8px 0; }
.status { font-size: 13px; opacity: .6; margin-bottom: 10px; }
button { width: 100%; padding: 12px; background: #000; color: #fff; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; }
button:disabled { background: #ccc; cursor: not-allowed; }
form { display: flex; flex-direction: column; gap: 10px; margin-top: 10px; }
input { padding: 8px; font-size: 14px; border-radius: 6px; border: 1px solid #ccc; }
#order-form { display: none; padding: 12px; background: #fff; border-radius: 14px; margin: 12px; box-shadow: 0 2px 6px rgba(0,0,0,.05); }
</style>
</head>

<body>
<header>üå∏ Flurimo</header>
<div id="catalog"></div>

<div id="order-form">
  <h3 id="form-title">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</h3>
  <form id="form">
    <input type="text" id="customer-name" placeholder="–í–∞—à–µ –∏–º—è" required>
    <input type="tel" id="customer-phone" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞" required>
    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑</button>
  </form>
</div>

<script>
// –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
const products = [
  {name: "–¢—é–ª—å–ø–∞–Ω—ã", image: "images/tulip.jpg", description: "–û—Ö–∞–ø–∫–∞ —Ç—é–ª—å–ø–∞–Ω–æ–≤ 50 —à—Ç—É–∫", price: 7000, quantity: 50},
  {name: "–ì–≤–æ–∑–¥–∏–∫–∞ –∫—É—Å—Ç–æ–≤–∞—è —Ä–æ–∑–æ–≤–∞—è", image: "images/carnation.jpg", description: "–û—Ö–∞–ø–∫–∞ —Ä–æ–∑–æ–≤–æ–π –∫—É—Å—Ç–æ–≤–æ–π –≥–≤–æ–∑–¥–∏–∫–∏ 20 —à—Ç—É–∫", price: 2000, quantity: 20},
  {name: "–ì–≤–æ–∑–¥–∏–∫–∞ –ì—Ä–∏–Ω —Ç—Ä–∏–∫", image: "images/greentrick.jpg", description: "–û—Ö–∞–ø–∫–∞ –≥–≤–æ–∑–¥–∏–∫–∏ –ì—Ä–∏–Ω —Ç—Ä–∏–∫", price: 2200, quantity: 10}
];

const catalog = document.getElementById("catalog");
let currentOrder = null;

products.forEach(item => {
  const card = document.createElement("div");
  card.className = "card";
  const disabled = item.quantity <= 0;
  card.innerHTML = `
    <img src="${item.image}" alt="${item.name}">
    <div class="card-content">
      <h3>${item.name}</h3>
      <p>${item.description}</p>
      <div class="status">${disabled ? "–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏" : "–í –Ω–∞–ª–∏—á–∏–∏: " + item.quantity}</div>
      <div class="price">${item.price} ‚ÇΩ</div>
      <button ${disabled ? 'disabled' : ''} onclick="showOrderForm('${item.name}', ${item.price})">–û—Ñ–æ—Ä–º–∏—Ç—å</button>
    </div>
  `;
  catalog.appendChild(card);
});

function showOrderForm(name, price) {
  currentOrder = { name, price };
  document.getElementById("order-form").style.display = "block";
  document.getElementById("form-title").textContent = `–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑: ${name} (${price} ‚ÇΩ)`;
}

document.getElementById("form").addEventListener("submit", function(e) {
  e.preventDefault();
  const customerName = document.getElementById("customer-name").value;
  const customerPhone = document.getElementById("customer-phone").value;

  if (!currentOrder) return;

  const data = {
    name: currentOrder.name,
    price: currentOrder.price,
    customer_name: customerName,
    customer_phone: customerPhone
  };

  // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Manybot (Telegram Web App)
  if (window.Telegram && Telegram.WebApp) {
    Telegram.WebApp.sendData(JSON.stringify(data));
    alert("–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!");
  } else {
    alert(`–ó–∞–∫–∞–∑: ${currentOrder.name}\n–ò–º—è: ${customerName}\n–¢–µ–ª–µ—Ñ–æ–Ω: ${customerPhone}`);
  }

  document.getElementById("order-form").style.display = "none";
  document.getElementById("form").reset();
});
</script>
</body>
</html>





